---
import Layout from '../layouts/Layout.astro'
import Hero from '../components/Hero.astro'
import MenuSection from '../components/MenuSection.astro'
import Cart from '../components/Cart.astro'
import { LUNCH_INFO, TESTIMONIALS, OPENING_HOURS } from '../data/menu'
import { WEEKLY_LUNCH_MENU, CURRENT_WEEK_FI, DIETARY_INFO } from '../data/lunchMenu'

const locale: 'fi' = 'fi'
const lunchInfo = LUNCH_INFO
const testimonials = TESTIMONIALS[locale]
const openingHours = OPENING_HOURS[locale]
---

<Layout title="Ravintola K√§skynkk√§ | Lounas, √Å La Carte ja Pitopalvelu Kuopiossa">
  <Hero locale={locale} />
  
  <section id="services" class="py-32 px-4 bg-surface">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="font-serif text-4xl md:text-5xl text-accent mb-4">Palvelumme</h2>
        <p class="text-muted font-sans tracking-wider uppercase text-sm">Lounas, √Å La Carte ja Pitopalvelu</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        <a href="#lunch" class="block text-center p-8 border border-dark hover:border-accent transition-colors duration-300 group">
          <div class="text-5xl mb-6">üçΩÔ∏è</div>
          <h3 class="font-serif text-2xl text-light mb-4 group-hover:text-accent transition-colors">Lounasbuffet</h3>
          <p class="text-muted text-sm mb-4">Arkisin {lunchInfo.time[locale]}</p>
          <p class="text-accent font-serif text-3xl mb-4">‚Ç¨{lunchInfo.price.toFixed(2)}</p>
          <p class="text-muted/80 text-sm">Sis√§lt√§√§ runsaan salaattip√∂yd√§n, alkuruuan, juomat, leiv√§n, p√§√§ruuan, kahvin ja j√§lkiruuan</p>
        </a>
   
        <a href="#menu" class="block text-center p-8 border border-dark hover:border-accent transition-colors duration-300 group">
          <div class="text-5xl mb-6">ü•©</div>
          <h3 class="font-serif text-2xl text-light mb-4 group-hover:text-accent transition-colors">√Å La Carte</h3>
          <p class="text-muted text-sm mb-4">Tunnettu runsaista pihviaterioista</p>
          <p class="text-accent font-serif text-3xl mb-4">Laatu</p>
          <p class="text-muted/80 text-sm">Korkealaatuiset lihatuotteet ja reilut annoskoot ovat intohimomme</p>
        </a>
        
        <a href="#footer" class="block text-center p-8 border border-dark hover:border-accent transition-colors duration-300 group">
          <div class="text-5xl mb-6">üéâ</div>
          <h3 class="font-serif text-2xl text-light mb-4 group-hover:text-accent transition-colors">Pitopalvelu</h3>
          <p class="text-muted text-sm mb-4">Yksityistilaisuudet & Yritystapahtumat</p>
          <p class="text-accent font-serif text-3xl mb-4">T√§ysi</p>
          <p class="text-muted/80 text-sm">R√§√§t√§l√∂idyt menyt juhliin ja tilaisuuksiin - anna meid√§n huolehtia onnistuneesta p√§iv√§st√§si</p>
        </a>
        
        <a href="#footer" class="block text-center p-8 border border-dark hover:border-accent transition-colors duration-300 group">
          <div class="text-5xl mb-6">üßñ</div>
          <h3 class="font-serif text-2xl text-light mb-4 group-hover:text-accent transition-colors">Sauna & Kabinetti</h3>
          <p class="text-muted text-sm mb-4">Yksityistilat ryhmille</p>
          <p class="text-accent font-serif text-3xl mb-4">Ota yhteytt√§</p>
          <p class="text-muted/80 text-sm">Saunatilat ja kabinetit saatavilla ryhm√§varauksiin - t√§ydellinen illanviettoon</p>
        </a>
      </div>
    </div>
  </section>
  
  <MenuSection locale={locale}>
    <Cart locale={locale} />
  </MenuSection>
  
  <section id="lunch" class="py-32 px-4 bg-surface">
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="font-serif text-4xl md:text-5xl text-accent mb-4">Lounasbuffet</h2>
        <p class="text-muted font-sans tracking-wider uppercase text-sm">Lounas ajalla {CURRENT_WEEK_FI}</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-start">
        <div>
          <div class="text-6xl font-serif text-accent mb-6">‚Ç¨{lunchInfo.price.toFixed(2)}</div>
          <p class="text-light text-lg mb-6">
            Runsas lounasbuffet, joka sis√§lt√§√§ kaiken tarvitsemasi t√§ydelliseen lounashetkeen.
          </p>
          <ul class="space-y-3 mb-8">
            {lunchInfo.includes[locale].map((item) => (
              <li class="flex items-center text-muted">
                <span class="text-accent mr-3">‚úì</span>
                {item}
              </li>
            ))}
          </ul>
          
          <!-- Dietary legend -->
          <div class="bg-dark p-4 border border-accent/30">
            <p class="text-muted text-sm uppercase tracking-wider mb-2">Ruokavaliomerkinn√§t</p>
            <div class="flex gap-6 text-sm">
              <span><span class="text-accent font-bold">vl</span> = {DIETARY_INFO.fi.vl}</span>
              <span><span class="text-accent font-bold">l</span> = {DIETARY_INFO.fi.l}</span>
              <span><span class="text-accent font-bold">g</span> = {DIETARY_INFO.fi.g}</span>
            </div>
          </div>
        </div>
        
        <div class="bg-dark p-6">
          <h3 class="font-serif text-xl text-accent mb-6 text-center">Viikon lounaslista</h3>
           
          <div class="space-y-6">
            {WEEKLY_LUNCH_MENU.map((day) => (
              <div class="border-b border-surface pb-4">
                <p class="text-light font-bold mb-2">{day.dayFi} {day.date}</p>
                {day.dishes.map((dish) => (
                  <p class="text-muted text-sm">{dish.dishFi}</p>
                ))}
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <section id="testimonials" class="py-32 px-4">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="font-serif text-4xl md:text-5xl text-accent mb-4">Asiakaspalautteet</h2>
        <p class="text-muted font-sans tracking-wider uppercase text-sm">Mit√§ asiakkaamme sanovat</p>
        <div class="flex justify-center items-center mt-4">
          <span class="text-accent text-2xl mr-2">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
          <span class="text-light font-serif text-xl">4.5 / 5</span>
        </div>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {testimonials.map((testimonial, index) => (
          <div class="bg-surface p-8 border border-dark">
            <div class="text-accent text-xl mb-4">
              {'‚òÖ'.repeat(testimonial.rating)}
            </div>
            <p class="text-light/80 italic mb-6 leading-relaxed">
              "{testimonial.text}"
            </p>
            <div class="text-muted text-sm uppercase tracking-wider">
              Asiakas {index + 1}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>
  
  <section id="about" class="py-32 px-4 bg-surface">
    <div class="max-w-4xl mx-auto text-center">
      <h2 class="font-serif text-4xl md:text-5xl text-accent mb-8">Tarinamme</h2>
      <p class="text-light/80 font-sans text-lg leading-relaxed mb-8">
        K√§skynkk√§ ‚Äì yht√§ aikaa moderni ja perinteinen, rento ja tyylik√§s. 
        Maukkaasta ruoasta tunnettu ruoka- ja seurusteluravintola Kuopion Jynk√§n kaupunginosassa.
      </p>
      <p class="text-light/80 font-sans text-lg leading-relaxed mb-8">
        Hyv√§ ruoka rakentuu kokemuksesta ja laadukkaista raaka-aineista.
        Maistuvaa ruokaa meilt√§ saikin niin lounasaikaan kuin √Å la Carte -listaltamme reiluina annoksina.
        Pitopalvelumme sit√§ vastoin pit√§√§ huolen onnistuneesta juhlastasi tai muusta tilaisuudestasi.
      </p>
      <p class="text-light/80 font-sans text-lg leading-relaxed mb-12">
        Mutta mit√§ olisikaan hyv√§ ruoka ilman oikeanlaista tunnelmaa?
        Viihtyis√§n fiiliksen meille luo modernit tilamme ja ammattitaitoinen, palveleva henkil√∂kuntamme.
      </p>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-16">
        <div class="text-center">
          <div class="text-4xl font-serif text-accent mb-2">4.5‚òÖ</div>
          <div class="text-muted text-sm uppercase tracking-wider">Google Arvostelu</div>
        </div>
        <div class="text-center">
          <div class="text-4xl font-serif text-accent mb-2">Jynkk√§</div>
          <div class="text-muted text-sm uppercase tracking-wider">Kuopio</div>
        </div>
        <div class="text-center">
          <div class="text-4xl font-serif text-accent mb-2">Perinteet</div>
          <div class="text-muted text-sm uppercase tracking-wider">& Moderni Tyyli</div>
        </div>
      </div>
    </div>
  </section>
  
  <section id="hours" class="py-32 px-4">
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="font-serif text-4xl md:text-5xl text-accent mb-4">Aukioloajat</h2>
        <p class="text-muted font-sans tracking-wider uppercase text-sm">Tervetuloa!</p>
      </div>
      
      <div class="bg-surface p-8 md:p-12">
        <div class="space-y-6">
          {openingHours.map((schedule) => (
            <div class="flex flex-col md:flex-row md:justify-between md:items-center py-4 border-b border-dark last:border-0">
              <div class="mb-2 md:mb-0">
                <span class="text-light font-serif text-xl">{schedule.day}</span>
              </div>
              <div class="text-right">
                <span class="text-accent font-sans text-lg block">{schedule.hours}</span>
                <span class="text-muted text-sm">{schedule.note}</span>
              </div>
            </div>
          ))}
        </div>
        
        <div class="mt-8 pt-8 border-t border-dark text-center">
          <p class="text-muted text-sm">
            Yritys: Ravintola K√§skynkk√§ | Y-tunnus: 0648221-5 | Omistaja: Veli Markkanen
          </p>
        </div>
      </div>
    </div>
  </section>
  
  <section id="catering" class="py-32 px-4 bg-surface">
    <div class="max-w-4xl mx-auto text-center">
      <h2 class="font-serif text-4xl md:text-5xl text-accent mb-6">J√§rjest√§tk√∂ Juhlat?</h2>
      <p class="text-light/80 font-sans text-lg leading-relaxed mb-8">
        Oli tilaisuutenne iso tai pieni, tarjoamme mielell√§mme teille niin ruuat ja juomat kuin my√∂s tilat. Valmistamme ruokamme toiveidenne mukaisiksi pitk√§ll√§ ammattitaidolla ja kokemuksella. Luonnollisesti saatte halutessanne ruuat ja juomat gluteenittomina ja laktoosittomina. Voitte noutaa tarjoilut itse tai voimme kuljettaa ne teille. Halutessanne saatte meilt√§ niin astiat ja ruokailuv√§lineet kuin my√∂s tarjoilun.
      </p>
      <p class="text-light/80 font-sans text-lg leading-relaxed mb-8">
        Meilt√§ vuokraatte tilaisuuteenne my√∂s tilat joko saunakabinetistamme (max 20 henkil√∂√§) tai Juhlatila Wanhasta Kirjastosta (max. 180 hengelle). Tilaisuutenne kellonajan ei tarvitse olla ravintolamme aukioloaikana, pitopalvelussa palvelemme asiakkaan aikataulun mukaisesti.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a 
          href="tel:+358173613411" 
          class="inline-block px-8 py-4 bg-accent text-dark font-sans font-medium tracking-wider uppercase text-sm hover:bg-accent/90 transition-colors duration-300"
        >
          Soita: 017 361 3411
        </a>
        <a 
          href="mailto:palaute@kaskynkka.net" 
          class="inline-block px-8 py-4 border border-accent text-accent font-sans font-medium tracking-wider uppercase text-sm hover:bg-accent hover:text-dark transition-colors duration-300"
        >
          S√§hk√∂posti
        </a>
      </div>
    </div>
  </section>
  
  <!-- Sauna & Kabinetti Section -->
  <section id="sauna" class="py-32 px-4">
    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-16">
        <h2 class="font-serif text-4xl md:text-5xl text-accent mb-4">Sauna & Kabinetti</h2>
        <p class="text-muted font-sans tracking-wider uppercase text-sm">Yksityistilat 20 hengelle</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-start">
        <div>
          <p class="text-light/80 font-sans text-lg leading-relaxed mb-6">
            K√§skynk√§n saunakabinetti on viihtyis√§ ja vastik√§√§n uusittu. Kabinettiin mahtuu 20 henkil√∂√§. Tila sopii erinomaisesti kokouksiin ja pienempimuotoisiin koulutuksiin.
          </p>
          <p class="text-light/80 font-sans text-lg leading-relaxed mb-6">
            Tarjoilemme haluamanne ruuat ja juomat kabinettiin, jotka voivat olla √Åla Carte -listaltamme, tai tilauksesta valmistamme ruoka-annoksia my√∂s toiveidenne mukaan ja lis√§ksi gluteenittomina ja laktoosittomina.
          </p>
          <p class="text-light/80 font-sans text-lg leading-relaxed mb-6">
            Meill√§ l√∂ytyy A-oikeudet. Tilasta l√∂ytyy videotykki ja valkokangas. Kabinetin yhteydess√§ on omat wc-tilat.
          </p>
          
          <div class="mt-8">
            <a 
              href="tel:+358173613411" 
              class="inline-block px-8 py-4 bg-accent text-dark font-sans font-medium tracking-wider uppercase text-sm hover:bg-accent/90 transition-colors duration-300"
            >
              Varaa: 017 361 3411
            </a>
          </div>
        </div>
        
        <div class="bg-surface p-8 border border-dark">
          <h3 class="font-serif text-xl text-accent mb-6">Kabinetin Varustus</h3>
          <ul class="space-y-4">
            <li class="flex items-start text-muted">
              <span class="text-accent mr-3 mt-1">‚úì</span>
              <span>20 hengen tilakapasiteetti</span>
            </li>
            <li class="flex items-start text-muted">
              <span class="text-accent mr-3 mt-1">‚úì</span>
              <span>Videotykki ja valkokangas</span>
            </li>
            <li class="flex items-start text-muted">
              <span class="text-accent mr-3 mt-1">‚úì</span>
              <span>Omat wc-tilat</span>
            </li>
            <li class="flex items-start text-muted">
              <span class="text-accent mr-3 mt-1">‚úì</span>
              <span>Gluteenittomat ja laktoosittomat ruokavaihtoehdot</span>
            </li>
            <li class="flex items-start text-muted">
              <span class="text-accent mr-3 mt-1">‚úì</span>
              <span>A-oikeudet</span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </section>
  
  <footer id="footer" class="py-16 px-4 border-t border-surface">
    <div class="max-w-6xl mx-auto">
      <div class="grid grid-cols-1 md:grid-cols-5 gap-8 text-center md:text-left">
        <div class="md:col-span-2">
          <h3 class="font-serif text-2xl text-accent mb-4">Ravintola K√§skynkk√§</h3>
          <p class="text-muted text-sm mb-4">
            Maukkaasta ruoasta tunnettu ruoka- ja seurusteluravintola Kuopion Jynk√§ss√§.
            Lounas, √Å La Carte ja pitopalvelu.
          </p>
          <p class="text-muted/60 text-xs">
            Y-tunnus: 0648221-5 | Omistaja: Veli Markkanen
          </p>
        </div>
        <div>
          <h4 class="font-sans text-light uppercase tracking-wider text-sm mb-4">Yhteystiedot</h4>
          <p class="text-muted text-sm">Soikkokuja 12</p>
          <p class="text-muted text-sm">70780 Kuopio</p>
          <p class="text-muted text-sm mt-2">üìû 017 361 3411</p>
          <p class="text-muted text-sm">‚úâÔ∏è palaute@kaskynkka.net</p>
        </div>
        <div>
          <h4 class="font-sans text-light uppercase tracking-wider text-sm mb-4">Aukioloajat</h4>
          <p class="text-muted text-sm">Ma-To: 10-20</p>
          <p class="text-muted text-sm">Pe: 10-21</p>
          <p class="text-muted text-sm">La: 12-21</p>
          <p class="text-muted text-sm">Su: Suljettu</p>
        </div>
        <div>
          <h4 class="font-sans text-light uppercase tracking-wider text-sm mb-4">Seuraa meit√§</h4>
          <a 
            href="https://www.facebook.com/ravintolakaskynkka" 
            target="_blank" 
            rel="noopener noreferrer"
            class="text-muted hover:text-accent transition-colors duration-300 flex items-center gap-2"
          >
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" />
            </svg>
            Facebook
          </a>
        </div>
      </div>
      <div class="mt-12 pt-8 border-t border-surface text-center">
        <p class="text-muted/60 text-sm">
          ¬© 2026 Ravintola K√§skynkk√§. Kaikki oikeudet pid√§tet√§√§n. | 
          <a href="https://kaskynkka.net" class="hover:text-accent transition-colors">kaskynkka.net</a>
        </p>
      </div>
    </div>
  </footer>
</Layout>

<script>
  // Handle checkout event from cart
  window.addEventListener('checkout', (e: Event) => {
    const customEvent = e as CustomEvent
    const items = customEvent.detail
    if (items.length === 0) return
    
    // Store cart items in sessionStorage for checkout page
    sessionStorage.setItem('cartItems', JSON.stringify(items))
    
    // Redirect to checkout
    window.location.href = '/checkout'
  })
</script>
